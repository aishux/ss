"prompt": "Your task is to generate a final response STRICTLY following the provided Template or Reference document.\n\n#### Inputs: You would be provided with the following inputs:\n1. original_question_set: A set of multiple user questions.\n\n2. question_response_map: This dataset will have the following structure. The key is the multi-part user question, and the value is a set of decomposed questions/sub-questions and their related responses.\n{{\n    'multi-part question1':\n    'sub_question1:..., \n    AI_response:..., \n\n   'multi-part question2':\n   'sub_question2:..., \n   AI_response:..., \n}}\n\n3. response_reference: This reference object contains sample reference data along with block number, font, size, and color for each line/text extracted from the user-provided reference document. Below is the format:\nBlock Number: 1:\nText: <some text> | Font: <some font> | Size: <some size> | Colour: <some colour>\nBlock Number: 2:\nText: <some text> | Font: <some font> | Size: <some size> | Colour: <some colour>\n\n\n#### Output:\nThe final response must STRICTLY follow and match the response_reference in terms of:\n- writing style\n- Section structure\n- Language\n- Content/text\n- Paragraph count and order\n- Formatting (e.g., bold, italic, headings, line breaks, etc.)\nThe final output will be displayed on a Web UI. Use appropriate **HTML MARKDOWN tags** for formatting:\n- To create a heading, add number signs (#) in front of a word or phrase. The number of number signs you use should correspond to the heading level. For example, to create a heading level three (<h3>), use three number signs (e.g., ### My Header).\n- To bold text, add two asterisks before and after a word or phrase.\n- To italicize text, add one asterisk before and after a word or phrase.\n\n\n#### Guidelines:\n1. Preserve All Paragraphs with Conditional Line Omission\n- For each question in original_question_set, identify the matching question in question_response_map and the corresponding block(s) in response_reference.\n- For multi-paragraph content in the response_reference, ensure that **all paragraphs are preserved in the final response.**\n- Replace the content in each paragraph with the corresponding data from the question_response_map, but do not delete or omit entire paragraphs.\n- **Critical Rule**: If a line in the response_reference contains a number or detail that is **not found in the question_response_map**, omit **only that specific line or phrase** sensibly while keeping the rest of the paragraph intact.\n- **Ensure that no necessary information or sections are omitted** and the final response **follows the style and structure of the response_reference.**\n- Do **not** invent or assume any numbers or details. If data is missing, simply remove that part without introducing placeholders or hypothetical values.\n- Maintain the original tone, formatting, and paragraph structure of the response_reference for consistency.\n\n2. **Strictly Follow the Reference Structure**:\n- The final response must match the structure, headings, and paragraph count of the response_reference. Do not add, remove, or reorder any headings or paragraphs.\n- The content under each block or section should be of the same volume/length as the related block/section in the response_reference, but replace the content with the latest available data from the question_response_map.\n\n3. **Summarization Does Not Mean Omission**:\n- When summarizing, **do not omit any paragraphs or sections**. Instead, rewrite the content in a concise manner while preserving the meaning and structure of the original text.\n- If the response_reference contains multiple paragraphs under a heading, ensure that the final response also contains the same number of paragraphs.\n\n4. **Handle Missing Data Gracefully**:\n- If the data to answer a given question in original_question_set is not available in the question_response_map, then simply **remove that part sensibly by omitting that phrase**. Do not introduce placeholders or hypothetical values.\n\n5. **Number Handling**:\n- Preserve the **original unit and scale** of numbers as provided in the question_response_map. If input values are in millions, they must remain in **millions** (no conversion to billions, crores, lakhs, etc.).\n- Do not round, abbreviate, or alter the numeric representation.\n- **DO NOT EDIT ANY NUMBERS found from question_response_map**\n\n6. **Synonym Mapping for Financial Terms**:\n- Recognize synonyms and equivalents. For example: NPBT, PBT, Profit Before Tax, or entries from the Balance Sheet/Financial Statement all represent the same metric.\n\n7. **Validation**:\n- After generating the final response, validate that the structure, headings, and number of paragraphs match the response_reference. If any discrepancies are found, revise the response to ensure alignment.\n\n\n#### Critical Additional Instructions (append-only section)\n1. Precedence rule (deterministic):\n   - ALWAYS prefer values (text and numbers) from `question_response_map` over `response_reference`.\n   - Do NOT copy any numeric value, date, or contextual phrase from `response_reference` unless an identical value or phrase is present in `question_response_map`.\n\n2. Numeric handling (no conversion, no invention):\n   - NEVER convert numeric scales (e.g., millions â†’ billions) or alter numeric formatting.\n   - Preserve the exact digits, units, and scale as they appear in `question_response_map`.\n   - If a numeric value or unit is absent from `question_response_map`, OMIT that specific number or numeric phrase from the final output.\n   - Do NOT invent, estimate, round, infer, or add placeholders.\n\n3. Omission rule (fragment-level):\n   - When `response_reference` contains a phrase not supported by `question_response_map` (e.g., \"PPA effects\", \"integration expenses\"), remove ONLY that phrase, not the entire sentence.\n   - Do NOT keep unsupported sentences or copy them verbatim.\n\n4. Heading period mapping:\n   - If the heading includes period strings (e.g., \"Results: 2Q24 vs 2Q23\") but the question_response_map uses different periods (e.g., 4Q25 vs 4Q24), REPLACE with the exact period strings from question_response_map.\n   - Use exact date/quarter text found in question_response_map.\n\n5. Anti-copy rule:\n   - NEVER output a sentence from response_reference unless every factual detail in that sentence is present in question_response_map.\n\n6. Determinism:\n   - If multiple conflicting values exist in question_response_map, use the FIRST one.\n   - Do NOT vary numbers across runs.\n\n7. Validation (final pass):\n   - Ensure the same number of paragraphs and headings as response_reference.\n   - Paragraphs may be empty if content was removed, but paragraph **breaks must remain**.\n\n8. No invented content:\n   - Do NOT create any number, date, percentage, or factual line.\n   - Remove unsupported clauses fully.\n\n\n#### Inputs:\n\noriginal_question_set:\n{original_question_set}\n\nquestion_response_map:\n{question_response_map}\n\nresponse_reference:\n{response_reference}\n"
